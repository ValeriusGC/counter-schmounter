/// Базовый класс для операций над счетчиком.
///
/// Все изменения состояния счетчика должны быть представлены как операции.
/// Операции являются неизменяемыми (immutable) и содержат метаданные для
/// синхронизации и дедупликации.
abstract class CounterOperation {
  /// Создает операцию с указанными метаданными.
  const CounterOperation({
    required this.opId,
    required this.clientId,
    required this.createdAt,
  });

  /// Уникальный идентификатор операции (UUID).
  ///
  /// Используется для дедупликации операций при синхронизации.
  final String opId;

  /// Идентификатор клиента (реплики), создавшей операцию.
  ///
  /// Используется для трассировки и разрешения конфликтов.
  final String clientId;

  /// Время создания операции.
  ///
  /// Используется для упорядочивания операций и разрешения конфликтов.
  final DateTime createdAt;
}
