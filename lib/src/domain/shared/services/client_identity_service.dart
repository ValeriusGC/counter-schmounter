/// Интерфейс сервиса для управления идентификатором клиента (реплики).
///
/// Каждая реплика приложения должна иметь стабильный локальный идентификатор,
/// который не зависит от авторизации и сохраняется между перезапусками.
abstract class ClientIdentityService {
  /// Инициализирует сервис (чтение или генерация client_id).
  ///
  /// Должен быть вызван один раз при старте приложения перед использованием
  /// [clientId]. Генерирует новый UUID, если client_id еще не сохранен.
  Future<void> init();

  /// Возвращает идентификатор клиента (UUID).
  ///
  /// **Важно:** [init] должен быть вызван перед использованием этого геттера.
  /// Возвращает тот же UUID, который был сгенерирован при первом запуске.
  String get clientId;
}
